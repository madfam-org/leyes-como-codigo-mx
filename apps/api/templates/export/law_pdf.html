<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<style>
  @page {
    size: letter;
    margin: 2.5cm 2cm 3cm 2cm;
    @top-center {
      content: "Tezca — El Espejo de la Ley";
      font-size: 8pt;
      color: #666;
      font-family: sans-serif;
    }
    @bottom-left {
      content: "{{ law_name|truncatechars:60 }}";
      font-size: 7pt;
      color: #999;
      font-family: sans-serif;
    }
    @bottom-right {
      content: "Pág. " counter(page) " de " counter(pages);
      font-size: 7pt;
      color: #999;
      font-family: sans-serif;
    }
  }

  body {
    font-family: "Georgia", "Times New Roman", serif;
    font-size: 11pt;
    line-height: 1.6;
    color: #1a1a1a;
  }

  /* Cover / Header */
  .cover {
    text-align: center;
    padding: 2cm 0 1.5cm 0;
    border-bottom: 2px solid #1a1a1a;
    margin-bottom: 1cm;
  }
  .cover h1 {
    font-size: 18pt;
    font-weight: bold;
    margin: 0 0 0.5cm 0;
    line-height: 1.3;
  }
  .cover .meta {
    font-size: 10pt;
    color: #555;
    margin: 0.2cm 0;
  }
  .cover .badge {
    display: inline-block;
    padding: 2px 8px;
    border: 1px solid #999;
    border-radius: 3px;
    font-size: 9pt;
    color: #555;
    margin: 0 3px;
  }

  /* Articles */
  .article {
    margin-bottom: 1.2cm;
    page-break-inside: avoid;
  }
  .article-header {
    font-weight: bold;
    font-size: 11pt;
    color: #2a2a6e;
    margin-bottom: 0.3cm;
  }
  .article-text {
    text-align: justify;
    text-indent: 1cm;
    white-space: pre-wrap;
  }

  /* Footer info */
  .generation-info {
    margin-top: 2cm;
    padding-top: 0.5cm;
    border-top: 1px solid #ccc;
    font-size: 8pt;
    color: #999;
    text-align: center;
  }
</style>
</head>
<body>
  <div class="cover">
    <h1>{{ law_name }}</h1>
    <div class="meta">
      <span class="badge">{{ tier_label }}</span>
      {% if category %}<span class="badge">{{ category }}</span>{% endif %}
      {% if state %}<span class="badge">{{ state }}</span>{% endif %}
    </div>
    {% if publication_date %}
    <div class="meta">Publicado: {{ publication_date }}</div>
    {% endif %}
    {% if status and status != "vigente" %}
    <div class="meta" style="color: #c00;">Estado: {{ status|upper }}</div>
    {% endif %}
    <div class="meta">{{ article_count }} artículos</div>
  </div>

  {% for article in articles %}
  <div class="article">
    <div class="article-header">{{ article.article_id }}</div>
    <div class="article-text">{{ article.text }}</div>
  </div>
  {% endfor %}

  <div class="generation-info">
    Generado por Tezca — El Espejo de la Ley | {{ generation_date }} | tezca.mx
  </div>
</body>
</html>
